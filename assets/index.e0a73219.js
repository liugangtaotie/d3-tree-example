import{y as Q,v as U,A as V,s as Z}from"./vendor.a3bf09b0.js";import{n as j}from"./index.35d24c55.js";var F=Math.PI/180,k=1<<11>>5,W=1<<11;const Y=function(){var e=[256,256],t=tt,i=et,x=nt,s=O,u=O,h=rt,v=it,z=G,y=[],f=1/0,c=Q("word","end"),p=null,_=Math.random,r={},b=ct;r.canvas=function(n){return arguments.length?(b=C(n),r):b},r.start=function(){var n=T(b()),o=ft((e[0]>>5)*e[1]),m=null,g=y.length,S=-1,w=[],M=y.map(function(l,a){return l.text=t.call(this,l,a),l.font=i.call(this,l,a),l.style=s.call(this,l,a),l.weight=u.call(this,l,a),l.rotate=h.call(this,l,a),l.size=~~x.call(this,l,a),l.padding=v.call(this,l,a),l}).sort(function(l,a){return a.size-l.size});return p&&clearInterval(p),p=setInterval(I,0),I(),r;function I(){for(var l=Date.now();Date.now()-l<f&&++S<g&&p;){var a=M[S];a.x=e[0]*(_()+.5)>>1,a.y=e[1]*(_()+.5)>>1,ot(n,a,M,S),a.hasText&&A(o,a,m)&&(w.push(a),c.call("word",r,a),m?st(m,a):m=[{x:a.x+a.x0,y:a.y+a.y0},{x:a.x+a.x1,y:a.y+a.y1}],a.x-=e[0]>>1,a.y-=e[1]>>1)}S>=g&&(r.stop(),c.call("end",r,w,m))}},r.stop=function(){return p&&(clearInterval(p),p=null),r};function T(n){n.width=n.height=1;var o=Math.sqrt(n.getContext("2d").getImageData(0,0,1,1).data.length>>2);n.width=(k<<5)/o,n.height=W/o;var m=n.getContext("2d");return m.fillStyle=m.strokeStyle="red",m.textAlign="center",{context:m,ratio:o}}function A(n,o,m){e[0],e[1];for(var g=o.x,S=o.y,w=Math.sqrt(e[0]*e[0]+e[1]*e[1]),M=z(e),I=_()<.5?1:-1,l=-I,a,B,D;(a=M(l+=I))&&(B=~~a[0],D=~~a[1],!(Math.min(Math.abs(B),Math.abs(D))>=w));)if(o.x=g+B,o.y=S+D,!(o.x+o.x0<0||o.y+o.y0<0||o.x+o.x1>e[0]||o.y+o.y1>e[1])&&(!m||!at(o,n,e[0]))&&(!m||ut(o,m))){for(var H=o.sprite,E=o.width>>5,R=e[0]>>5,P=o.x-(E<<4),$=P&127,J=32-$,K=o.y1-o.y0,N=(o.y+o.y0)*R+(P>>5),L,q=0;q<K;q++){L=0;for(var d=0;d<=E;d++)n[N+d]|=L<<J|(d<E?(L=H[q*E+d])>>>$:0);N+=R}return delete o.sprite,!0}return!1}return r.timeInterval=function(n){return arguments.length?(f=n==null?1/0:n,r):f},r.words=function(n){return arguments.length?(y=n,r):y},r.size=function(n){return arguments.length?(e=[+n[0],+n[1]],r):e},r.font=function(n){return arguments.length?(i=C(n),r):i},r.fontStyle=function(n){return arguments.length?(s=C(n),r):s},r.fontWeight=function(n){return arguments.length?(u=C(n),r):u},r.rotate=function(n){return arguments.length?(h=C(n),r):h},r.text=function(n){return arguments.length?(t=C(n),r):t},r.spiral=function(n){return arguments.length?(z=xt[n]||n,r):z},r.fontSize=function(n){return arguments.length?(x=C(n),r):x},r.padding=function(n){return arguments.length?(v=C(n),r):v},r.random=function(n){return arguments.length?(_=n,r):_},r.on=function(){var n=c.on.apply(c,arguments);return n===c?r:n},r};function tt(e){return e.text}function et(){return"serif"}function O(){return"normal"}function nt(e){return Math.sqrt(e.value)}function rt(){return(~~(Math.random()*6)-3)*30}function it(){return 1}function ot(e,t,i,x){if(!t.sprite){var s=e.context,u=e.ratio;s.clearRect(0,0,(k<<5)/u,W/u);var h=0,v=0,z=0,y=i.length;for(--x;++x<y;){t=i[x],s.save(),s.font=t.style+" "+t.weight+" "+~~((t.size+1)/u)+"px "+t.font;var f=s.measureText(t.text+"m").width*u,c=t.size<<1;if(t.rotate){var p=Math.sin(t.rotate*F),_=Math.cos(t.rotate*F),r=f*_,b=f*p,T=c*_,A=c*p;f=Math.max(Math.abs(r+A),Math.abs(r-A))+31>>5<<5,c=~~Math.max(Math.abs(b+T),Math.abs(b-T))}else f=f+31>>5<<5;if(c>z&&(z=c),h+f>=k<<5&&(h=0,v+=z,z=0),v+c>=W)break;s.translate((h+(f>>1))/u,(v+(c>>1))/u),t.rotate&&s.rotate(t.rotate*F),s.fillText(t.text,0,0),t.padding&&(s.lineWidth=2*t.padding,s.strokeText(t.text,0,0)),s.restore(),t.width=f,t.height=c,t.xoff=h,t.yoff=v,t.x1=f>>1,t.y1=c>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,h+=f}for(var n=s.getImageData(0,0,(k<<5)/u,W/u).data,o=[];--x>=0;)if(t=i[x],!!t.hasText){for(var f=t.width,m=f>>5,c=t.y1-t.y0,g=0;g<c*m;g++)o[g]=0;if(h=t.xoff,h==null)return;v=t.yoff;for(var S=0,w=-1,M=0;M<c;M++){for(var g=0;g<f;g++){var I=m*M+(g>>5),l=n[(v+M)*(k<<5)+(h+g)<<2]?1<<31-g%32:0;o[I]|=l,S|=l}S?w=M:(t.y0++,c--,M--,v++)}t.y1=t.y0+w,t.sprite=o.slice(0,(t.y1-t.y0)*m)}}}function at(e,t,i){i>>=5;for(var x=e.sprite,s=e.width>>5,u=e.x-(s<<4),h=u&127,v=32-h,z=e.y1-e.y0,y=(e.y+e.y0)*i+(u>>5),f,c=0;c<z;c++){f=0;for(var p=0;p<=s;p++)if((f<<v|(p<s?(f=x[c*s+p])>>>h:0))&t[y+p])return!0;y+=i}return!1}function st(e,t){var i=e[0],x=e[1];t.x+t.x0<i.x&&(i.x=t.x+t.x0),t.y+t.y0<i.y&&(i.y=t.y+t.y0),t.x+t.x1>x.x&&(x.x=t.x+t.x1),t.y+t.y1>x.y&&(x.y=t.y+t.y1)}function ut(e,t){return e.x+e.x1>t[0].x&&e.x+e.x0<t[1].x&&e.y+e.y1>t[0].y&&e.y+e.y0<t[1].y}function G(e){var t=e[0]/e[1];return function(i){return[t*(i*=.1)*Math.cos(i),i*Math.sin(i)]}}function lt(e){var t=4,i=t*e[0]/e[1],x=0,s=0;return function(u){var h=u<0?-1:1;switch(Math.sqrt(1+4*h*u)-h&3){case 0:x+=i;break;case 1:s+=t;break;case 2:x-=i;break;default:s-=t;break}return[x,s]}}function ft(e){for(var t=[],i=-1;++i<e;)t[i]=0;return t}function ct(){return document.createElement("canvas")}function C(e){return typeof e=="function"?e:function(){return e}}var xt={archimedean:G,rectangular:lt};console.info("1111",Y);function ht(e,t){let i=e.size,x=e.wordList,s=e.svgElement;console.info("theSvgElement",s);var u=Y().size(i).words(x).padding(5).rotate(function(){return~~(Math.random()*3)*30}).font("Impact").fontSize(function(v){return v.size}).on("end",h);u.start();function h(v){let z=U(V);Z(s).append("svg").attr("width",u.size()[0]).attr("height",u.size()[1]).append("g").attr("transform","translate("+u.size()[0]/2+","+u.size()[1]/2+")").selectAll("text").data(v).enter().append("text").style("font-size",function(y){return y.size+"px"}).style("font-family","Impact").style("cursor","pointer").style("fill",function(y,f){return z(f)}).attr("text-anchor","middle").attr("transform",function(y){return"translate("+[y.x,y.y]+")rotate("+y.rotate+")"}).text(function(y){return y.text}).on("click",function(y){t(y.target.textContent)})}}var yt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"siderBar"},[i("div",{ref:"wordCloudBox"})])},mt=[];const vt={name:"siderBar",data(){return{}},mounted(){let e=[{text:"vue",size:20},{text:"html",size:25},{text:"js",size:30},{text:"vue",size:20},{text:"html",size:25},{text:"js",size:30},{text:"vue",size:20},{text:"html",size:25},{text:"js",size:30},{text:"vue",size:20},{text:"html",size:25},{text:"js",size:30},{text:"vue",size:20},{text:"html",size:25},{text:"js",size:30}];console.info("333"),this.getWordCloud(e)},methods:{getWordCloud(e){let t={wordList:e,size:[500,500],svgElement:this.$refs.wordCloudBox};ht(t,this.getArticleList)},getArticleList(e){console.info("2222",e)}}},X={};var pt=j(vt,yt,mt,!1,gt,null,null,null);function gt(e){for(let t in X)this[t]=X[t]}var St=function(){return pt.exports}();export{St as default};
