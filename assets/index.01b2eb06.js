import{j as t}from"./jsplumb.f24db14b.js";import{n as e,h as n,t as i}from"./index.50c65bbf.js";const s={};var a=e({name:"HelloWorld",props:{msg:String},data:()=>({jsPlumbInstance:"",jsPlumbSetting:{Container:"relation-box",Connector:["Bezier",{curviness:100}],ConnectionsDetachable:!1,DeleteEndpointsOnDetach:!1,Endpoint:["Dot",{radius:3}],PaintStyle:{stroke:"#c0c4ca",strokeWidth:1},EndpointStyle:{stroke:"#888",fill:"#fff"}},jsPlumbConnectOptions:{isSource:!0,isTarget:!0,anchor:"AutoDefault"},dataList:{id:1,name:"中国",children:[{id:2,name:"北京",children:[{id:6,name:"海淀区"},{id:7,name:"高新区"}]},{id:3,name:"贵州",children:[{id:4,name:"贵阳"},{id:5,name:"黔西南"},{id:8,name:"黔东南"}]}]},nodeList:[],lineList:[]}),methods:{setNodeInfo(t){const e=n(t),s=i().nodeSize([200,180])(e),a=s.descendants(),o=s.links();this.nodeList=a.map((t=>({id:t.data.id,name:t.data.name,left:t.x+900+"px",top:t.y+"px"}))),this.lineList=o.map((t=>({source:`node-${t.source.data.id}`,target:`node-${t.target.data.id}`,overlays:[["Arrow",{width:10,length:10,location:.5}]]})))},drawLines(){this.$nextTick().then((()=>{t.jsPlumb.ready((()=>{this.jsPlumbInstance=t.jsPlumb.getInstance(),this.jsPlumbInstance.importDefaults(this.jsPlumbSetting),this.lineList.forEach((t=>{this.jsPlumbInstance.connect(t,this.jsPlumbConnectOptions)})),this.jsPlumbInstance.repaintEverything()}))}))}},mounted(){this.setNodeInfo(this.dataList),this.drawLines(),window.console.log(this.nodeList)}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hello"},[n("div",{attrs:{id:"relation-box"}},t._l(t.nodeList,(function(e){return n("div",{key:e.id,staticClass:"node",style:{left:e.left,top:e.top},attrs:{id:"node-"+e.id}},[t._v(" "+t._s(e.name)+" "),n("div",[t._v("custom...")])])})),0)])}),[],!1,o,"42183cd7",null,null);function o(t){for(let e in s)this[e]=s[e]}var d=function(){return a.exports}();export{d as default};
