import{j as a}from"./jsplumb.32de44ea.js";import{k as l,t as c}from"./vendor.a3bf09b0.js";import{n as u}from"./index.35d24c55.js";var m=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"hello"},[i("div",{attrs:{id:"relation-box"}},t._l(t.nodeList,function(e){return i("div",{key:e.id,staticClass:"node",style:{left:e.left,top:e.top},attrs:{id:"node-"+e.id}},[t._v(" "+t._s(e.name)+" "),i("div",[t._v("custom...")])])}),0)])},h=[];const _={name:"HelloWorld",props:{msg:String},data(){return{jsPlumbInstance:"",jsPlumbSetting:{Container:"relation-box",Connector:["Bezier",{curviness:100}],ConnectionsDetachable:!1,DeleteEndpointsOnDetach:!1,Endpoint:["Dot",{radius:3}],PaintStyle:{stroke:"#c0c4ca",strokeWidth:1},EndpointStyle:{stroke:"#888",fill:"#fff"}},jsPlumbConnectOptions:{isSource:!0,isTarget:!0,anchor:"AutoDefault"},dataList:{id:1,name:"\u4E2D\u56FD",children:[{id:2,name:"\u5317\u4EAC",children:[{id:6,name:"\u6D77\u6DC0\u533A"},{id:7,name:"\u9AD8\u65B0\u533A"}]},{id:3,name:"\u8D35\u5DDE",children:[{id:4,name:"\u8D35\u9633"},{id:5,name:"\u9ED4\u897F\u5357"},{id:8,name:"\u9ED4\u4E1C\u5357"}]}]},nodeList:[],lineList:[]}},methods:{setNodeInfo(t){const s=l(t),e=c().nodeSize([200,180])(s),r=e.descendants(),d=e.links();this.nodeList=r.map(n=>({id:n.data.id,name:n.data.name,left:n.x+900+"px",top:n.y+"px"})),this.lineList=d.map(n=>({source:`node-${n.source.data.id}`,target:`node-${n.target.data.id}`,overlays:[["Arrow",{width:10,length:10,location:.5}]]}))},drawLines(){this.$nextTick().then(()=>{a.jsPlumb.ready(()=>{this.jsPlumbInstance=a.jsPlumb.getInstance(),this.jsPlumbInstance.importDefaults(this.jsPlumbSetting),this.lineList.forEach(t=>{this.jsPlumbInstance.connect(t,this.jsPlumbConnectOptions)}),this.jsPlumbInstance.repaintEverything()})})}},mounted(){this.setNodeInfo(this.dataList),this.drawLines(),window.console.log(this.nodeList)}},o={};var p=u(_,m,h,!1,f,"42183cd7",null,null);function f(t){for(let s in o)this[s]=o[s]}var g=function(){return p.exports}();export{g as default};
