import{g as t,o as e,P as n,s as r,n as a}from"./index.50c65bbf.js";var i=Math.PI/180,o=2048;const s=function(){var e=[256,256],n=u,r=l,a=c,i=f,s=f,w=x,M=h,b=g,I=[],C=1/0,k=t("word","end"),j=null,T=Math.random,S={},q=m;function A(t,n,r){e[0],e[1];for(var a,i,o,s,u,l=n.x,f=n.y,c=Math.sqrt(e[0]*e[0]+e[1]*e[1]),x=b(e),h=T()<.5?1:-1,y=-h;(a=x(y+=h))&&(i=~~a[0],o=~~a[1],!(Math.min(Math.abs(i),Math.abs(o))>=c));)if(n.x=l+i,n.y=f+o,!(n.x+n.x0<0||n.y+n.y0<0||n.x+n.x1>e[0]||n.y+n.y1>e[1]||r&&d(n,t,e[0])||r&&(u=r,!((s=n).x+s.x1>u[0].x&&s.x+s.x0<u[1].x&&s.y+s.y1>u[0].y&&s.y+s.y0<u[1].y)))){for(var v,g=n.sprite,m=n.width>>5,z=e[0]>>5,p=n.x-(m<<4),w=127&p,M=32-w,I=n.y1-n.y0,C=(n.y+n.y0)*z+(p>>5),k=0;k<I;k++){v=0;for(var j=0;j<=m;j++)t[C+j]|=v<<M|(j<m?(v=g[k*m+j])>>>w:0);C+=z}return delete n.sprite,!0}return!1}return S.canvas=function(t){return arguments.length?(q=z(t),S):q},S.start=function(){var t=function(t){t.width=t.height=1;var e=Math.sqrt(t.getContext("2d").getImageData(0,0,1,1).data.length>>2);t.width=2048/e,t.height=o/e;var n=t.getContext("2d");return n.fillStyle=n.strokeStyle="red",n.textAlign="center",{context:n,ratio:e}}(q()),u=function(t){var e=[],n=-1;for(;++n<t;)e[n]=0;return e}((e[0]>>5)*e[1]),l=null,f=I.length,c=-1,x=[],h=I.map((function(t,e){return t.text=n.call(this,t,e),t.font=r.call(this,t,e),t.style=i.call(this,t,e),t.weight=s.call(this,t,e),t.rotate=w.call(this,t,e),t.size=~~a.call(this,t,e),t.padding=M.call(this,t,e),t})).sort((function(t,e){return e.size-t.size}));return j&&clearInterval(j),j=setInterval(d,0),d(),S;function d(){for(var n=Date.now();Date.now()-n<C&&++c<f&&j;){var r=h[c];r.x=e[0]*(T()+.5)>>1,r.y=e[1]*(T()+.5)>>1,y(t,r,h,c),r.hasText&&A(u,r,l)&&(x.push(r),k.call("word",S,r),l?v(l,r):l=[{x:r.x+r.x0,y:r.y+r.y0},{x:r.x+r.x1,y:r.y+r.y1}],r.x-=e[0]>>1,r.y-=e[1]>>1)}c>=f&&(S.stop(),k.call("end",S,x,l))}},S.stop=function(){return j&&(clearInterval(j),j=null),S},S.timeInterval=function(t){return arguments.length?(C=null==t?1/0:t,S):C},S.words=function(t){return arguments.length?(I=t,S):I},S.size=function(t){return arguments.length?(e=[+t[0],+t[1]],S):e},S.font=function(t){return arguments.length?(r=z(t),S):r},S.fontStyle=function(t){return arguments.length?(i=z(t),S):i},S.fontWeight=function(t){return arguments.length?(s=z(t),S):s},S.rotate=function(t){return arguments.length?(w=z(t),S):w},S.text=function(t){return arguments.length?(n=z(t),S):n},S.spiral=function(t){return arguments.length?(b=p[t]||t,S):b},S.fontSize=function(t){return arguments.length?(a=z(t),S):a},S.padding=function(t){return arguments.length?(M=z(t),S):M},S.random=function(t){return arguments.length?(T=t,S):T},S.on=function(){var t=k.on.apply(k,arguments);return t===k?S:t},S};function u(t){return t.text}function l(){return"serif"}function f(){return"normal"}function c(t){return Math.sqrt(t.value)}function x(){return 30*(~~(6*Math.random())-3)}function h(){return 1}function y(t,e,n,r){if(!e.sprite){var a=t.context,s=t.ratio;a.clearRect(0,0,2048/s,o/s);var u=0,l=0,f=0,c=n.length;for(--r;++r<c;){e=n[r],a.save(),a.font=e.style+" "+e.weight+" "+~~((e.size+1)/s)+"px "+e.font;var x=a.measureText(e.text+"m").width*s,h=e.size<<1;if(e.rotate){var y=Math.sin(e.rotate*i),d=Math.cos(e.rotate*i),v=x*d,g=x*y,m=h*d,z=h*y;x=Math.max(Math.abs(v+z),Math.abs(v-z))+31>>5<<5,h=~~Math.max(Math.abs(g+m),Math.abs(g-m))}else x=x+31>>5<<5;if(h>f&&(f=h),u+x>=2048&&(u=0,l+=f,f=0),l+h>=o)break;a.translate((u+(x>>1))/s,(l+(h>>1))/s),e.rotate&&a.rotate(e.rotate*i),a.fillText(e.text,0,0),e.padding&&(a.lineWidth=2*e.padding,a.strokeText(e.text,0,0)),a.restore(),e.width=x,e.height=h,e.xoff=u,e.yoff=l,e.x1=x>>1,e.y1=h>>1,e.x0=-e.x1,e.y0=-e.y1,e.hasText=!0,u+=x}for(var p=a.getImageData(0,0,2048/s,o/s).data,w=[];--r>=0;)if((e=n[r]).hasText){for(var M=(x=e.width)>>5,b=(h=e.y1-e.y0,0);b<h*M;b++)w[b]=0;if(null==(u=e.xoff))return;l=e.yoff;for(var I=0,C=-1,k=0;k<h;k++){for(b=0;b<x;b++){var j=M*k+(b>>5),T=p[2048*(l+k)+(u+b)<<2]?1<<31-b%32:0;w[j]|=T,I|=T}I?C=k:(e.y0++,h--,k--,l++)}e.y1=e.y0+C,e.sprite=w.slice(0,(e.y1-e.y0)*M)}}}function d(t,e,n){n>>=5;for(var r,a=t.sprite,i=t.width>>5,o=t.x-(i<<4),s=127&o,u=32-s,l=t.y1-t.y0,f=(t.y+t.y0)*n+(o>>5),c=0;c<l;c++){r=0;for(var x=0;x<=i;x++)if((r<<u|(x<i?(r=a[c*i+x])>>>s:0))&e[f+x])return!0;f+=n}return!1}function v(t,e){var n=t[0],r=t[1];e.x+e.x0<n.x&&(n.x=e.x+e.x0),e.y+e.y0<n.y&&(n.y=e.y+e.y0),e.x+e.x1>r.x&&(r.x=e.x+e.x1),e.y+e.y1>r.y&&(r.y=e.y+e.y1)}function g(t){var e=t[0]/t[1];return function(t){return[e*(t*=.1)*Math.cos(t),t*Math.sin(t)]}}function m(){return document.createElement("canvas")}function z(t){return"function"==typeof t?t:function(){return t}}var p={archimedean:g,rectangular:function(t){var e=4*t[0]/t[1],n=0,r=0;return function(t){var a=t<0?-1:1;switch(Math.sqrt(1+4*a*t)-a&3){case 0:n+=e;break;case 1:r+=4;break;case 2:n-=e;break;default:r-=4}return[n,r]}}};const w={};var M=a({name:"siderBar",data:()=>({}),mounted(){this.getWordCloud([{text:"vue",size:20},{text:"html",size:25},{text:"js",size:30},{text:"vue",size:20},{text:"html",size:25},{text:"js",size:30},{text:"vue",size:20},{text:"html",size:25},{text:"js",size:30},{text:"vue",size:20},{text:"html",size:25},{text:"js",size:30},{text:"vue",size:20},{text:"html",size:25},{text:"js",size:30}])},methods:{getWordCloud(t){!function(t,a){let i=t.size,o=t.wordList,u=t.svgElement;var l=s().size(i).words(o).padding(5).rotate((function(){return 30*~~(3*Math.random())})).font("Impact").fontSize((function(t){return t.size})).on("end",(function(t){let i=e(n);r(u).append("svg").attr("width",l.size()[0]).attr("height",l.size()[1]).append("g").attr("transform","translate("+l.size()[0]/2+","+l.size()[1]/2+")").selectAll("text").data(t).enter().append("text").style("font-size",(function(t){return t.size+"px"})).style("font-family","Impact").style("cursor","pointer").style("fill",(function(t,e){return i(e)})).attr("text-anchor","middle").attr("transform",(function(t){return"translate("+[t.x,t.y]+")rotate("+t.rotate+")"})).text((function(t){return t.text})).on("click",(function(t){a(t.target.textContent)}))}));l.start()}({wordList:t,size:[500,500],svgElement:this.$refs.wordCloudBox},this.getArticleList)},getArticleList(t){}}},(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"siderBar"},[e("div",{ref:"wordCloudBox"})])}),[],!1,b,null,null,null);function b(t){for(let e in w)this[e]=w[e]}var I=function(){return M.exports}();export{I as default};
